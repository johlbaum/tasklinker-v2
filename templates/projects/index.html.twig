{% extends 'base.html.twig' %}

{% block title %}
	Liste des projets - TaskLinker
{% endblock %}

{% block header %}
	<div id="current-user"></div>
	<div id="title-page">
		<h1>
			Projets
		</h1>
	</div>
{% endblock %}

{% block body %}
	{% for project in projects %}
		<div id="projects-container">
			<article class="card-project">
				<a href="{{ path('app_tasks_show', {projectId: project.id}) }}">
					<h2>{{ project.name }}</h2>
				</a>
				{% if is_granted('ROLE_ADMIN') %}
					<div class="card-project-icons">
						<a href="{{ path('app_project_edit', {projectId: project.id}) }}">
							<i class="fa-solid fa-pen"></i>
						</a>
						<a href="{{ path('app_project_archive', {projectId: project.id}) }}">
							<i class="fa-solid fa-trash"></i>
						</a>
					</div>
				{% endif %}
			</article>
		{% endfor %}
		{% if is_granted('ROLE_ADMIN') %}
			<article class="card-project">
				<a href="{{ path('app_project_new') }}">
					<i class="fa-solid fa-circle-plus add-project-icon"></i>
					<h2>Ajouter un projet</h2>
				</a>
			</article>
		{% endif %}
	</div>
{% endblock %}